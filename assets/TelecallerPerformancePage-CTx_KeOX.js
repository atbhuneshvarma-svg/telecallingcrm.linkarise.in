import{X as de,Y as me,Z as he,_ as pe,$ as ue,a0 as ge,a1 as xe,a2 as fe,r as d,a3 as je,a4 as I,a5 as _e,a6 as ve,a7 as ye,a8 as be,a9 as we,aa as Ce,ab as Pe,ac as Ne,ad as Se,ae as N,j as e,af as L,ag as O,ah as C,ai as De,aj as q,ak as F,al as ke,am as W,an as ee,ao as X,ap as Z,aq as Te,ar as Re,as as U,at as Q,au as te,av as $e,aw as Me,ax as ae,ay as H,az as $,aA as Oe,aB as Ye}from"./index-BJcvY-Fc.js";const E=t=>t?typeof t=="function"?t():t:null,Ie=t=>{const{componentCls:a,popoverColor:n,titleMinWidth:s,fontWeightStrong:o,innerPadding:u,boxShadowSecondary:i,colorTextHeading:m,borderRadiusLG:v,zIndexPopup:f,titleMarginBottom:h,colorBgElevated:j,popoverBg:b,titleBorderBottom:y,innerContentPadding:r,titlePadding:l}=t;return[{[a]:Object.assign(Object.assign({},pe(t)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:f,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":j,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${a}-content`]:{position:"relative"},[`${a}-inner`]:{backgroundColor:b,backgroundClip:"padding-box",borderRadius:v,boxShadow:i,padding:u},[`${a}-title`]:{minWidth:s,marginBottom:h,color:m,fontWeight:o,borderBottom:y,padding:l},[`${a}-inner-content`]:{color:n,padding:r}})},ue(t,"var(--antd-arrow-background-color)"),{[`${a}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow,display:"inline-block",[`${a}-content`]:{display:"inline-block"}}}]},Ee=t=>{const{componentCls:a}=t;return{[a]:ge.map(n=>{const s=t[`${n}6`];return{[`&${a}-${n}`]:{"--antd-arrow-background-color":s,[`${a}-inner`]:{backgroundColor:s},[`${a}-arrow`]:{background:"transparent"}}}})}},Be=t=>{const{lineWidth:a,controlHeight:n,fontHeight:s,padding:o,wireframe:u,zIndexPopupBase:i,borderRadiusLG:m,marginXS:v,lineType:f,colorSplit:h,paddingSM:j}=t,b=n-s,y=b/2,r=b/2-a,l=o;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:i+30},xe(t)),fe({contentRadius:m,limitVerticalRadius:!0})),{innerPadding:u?0:12,titleMarginBottom:u?0:v,titlePadding:u?`${y}px ${l}px ${r}px`:0,titleBorderBottom:u?`${a}px ${f} ${h}`:"none",innerContentPadding:u?`${j}px ${l}px`:0})},se=de("Popover",t=>{const{colorBgElevated:a,colorText:n}=t,s=me(t,{popoverBg:a,popoverColor:n});return[Ie(s),Ee(s),he(s,"zoom-big")]},Be,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var ze=function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)a.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n};const ne=({title:t,content:a,prefixCls:n})=>!t&&!a?null:d.createElement(d.Fragment,null,t&&d.createElement("div",{className:`${n}-title`},t),a&&d.createElement("div",{className:`${n}-inner-content`},a)),Ae=t=>{const{hashId:a,prefixCls:n,className:s,style:o,placement:u="top",title:i,content:m,children:v}=t,f=E(i),h=E(m),j=I(a,n,`${n}-pure`,`${n}-placement-${u}`,s);return d.createElement("div",{className:j,style:o},d.createElement("div",{className:`${n}-arrow`}),d.createElement(_e,Object.assign({},t,{className:a,prefixCls:n}),v||d.createElement(ne,{prefixCls:n,title:f,content:h})))},Le=t=>{const{prefixCls:a,className:n}=t,s=ze(t,["prefixCls","className"]),{getPrefixCls:o}=d.useContext(je),u=o("popover",a),[i,m,v]=se(u);return i(d.createElement(Ae,Object.assign({},s,{prefixCls:u,hashId:m,className:I(n,v)})))};var Fe=function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)a.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n};const We=d.forwardRef((t,a)=>{var n,s;const{prefixCls:o,title:u,content:i,overlayClassName:m,placement:v="top",trigger:f="hover",children:h,mouseEnterDelay:j=.1,mouseLeaveDelay:b=.1,onOpenChange:y,overlayStyle:r={},styles:l,classNames:p}=t,_=Fe(t,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:c,className:g,style:k,classNames:S,styles:M}=ve("popover"),D=c("popover",o),[T,R,x]=se(D),w=c(),B=I(m,R,x,g,S.root,p==null?void 0:p.root),z=I(S.body,p==null?void 0:p.body),[oe,le]=ye(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(s=t.defaultOpen)!==null&&s!==void 0?s:t.defaultVisible}),V=(P,Y)=>{le(P,!0),y==null||y(P,Y)},ce=P=>{P.keyCode===Pe.ESC&&V(!1,P)},ie=P=>{V(P)},G=E(u),K=E(i);return T(d.createElement(be,Object.assign({placement:v,trigger:f,mouseEnterDelay:j,mouseLeaveDelay:b},_,{prefixCls:D,classNames:{root:B,body:z},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},M.root),k),r),l==null?void 0:l.root),body:Object.assign(Object.assign({},M.body),l==null?void 0:l.body)},ref:a,open:oe,onOpenChange:ie,overlay:G||K?d.createElement(ne,{prefixCls:D,title:G,content:K}):null,transitionName:we(w,"zoom-big",_.transitionName),"data-popover-inject":!0}),Ce(h,{onKeyDown:P=>{var Y,A;d.isValidElement(h)&&((A=h==null?void 0:(Y=h.props).onKeyDown)===null||A===void 0||A.call(Y,P)),ce(P)}})))}),re=We;re._InternalPanelDoNotUseOrYouWillBeFired=Le;const Ue="https://leadzcrm.linkarise.in/api",He=`${Ue}/tellecallreport`,Ve=async(t={})=>{const a=new URLSearchParams;if(t.page&&a.append("page",t.page.toString()),t.per_page&&a.append("per_page",t.per_page.toString()),t.search&&a.append("search",t.search),t.date_from&&t.date_to){const o=i=>{const m=new Date(i),v=String(m.getDate()).padStart(2,"0"),f=String(m.getMonth()+1).padStart(2,"0"),h=m.getFullYear();return`${v}-${f}-${h}`},u=`${o(t.date_from)}+-+${o(t.date_to)}`;a.append("daterange",u)}t.usermid&&a.append("usermid",t.usermid.toString());const n=`${He}?${a.toString()}`;return console.log("API URL:",n),(await Ne.get(n)).data},Ge=t=>{const[a,n]=d.useState([]),[s,o]=d.useState([]),[u,i]=d.useState({current_page:1,per_page:10,total_pages:1,total_rows:0,from:0,to:0}),[m,v]=d.useState({totalDialed:0,totalAnswered:0,totalInterested:0,totalConfirmed:0,totalTalkTime:"0:00",answerRate:0,conversionRate:0}),[f,h]=d.useState(!1),[j,b]=d.useState(null),y=d.useCallback(l=>{if(!l||l.length===0)return{totalDialed:0,totalAnswered:0,totalInterested:0,totalConfirmed:0,totalTalkTime:"0:00",answerRate:0,conversionRate:0};const p=l.reduce((x,w)=>x+w.dialed,0),_=l.reduce((x,w)=>x+w.answered,0),c=l.reduce((x,w)=>x+w.interested,0),g=l.reduce((x,w)=>x+w.confirmed,0),k=l.reduce((x,w)=>{if(w.talk_time==="-"||!w.talk_time)return x;const[B,z]=w.talk_time.split(":").map(Number);return x+B*60+z},0),S=Math.floor(k/60),M=k%60,D=`${S}:${M.toString().padStart(2,"0")}`,T=p>0?_/p*100:0,R=_>0?c/_*100:0;return{totalDialed:p,totalAnswered:_,totalInterested:c,totalConfirmed:g,totalTalkTime:D,answerRate:Math.round(T*100)/100,conversionRate:Math.round(R*100)/100}},[]),r=d.useCallback(async()=>{var l,p;console.log("ðŸ”„ useTelecallerPerformance: Starting refetch with filters:",t),h(!0),b(null);try{const _={page:t.page,per_page:t.per_page,search:t.search,date_from:t.date_from,date_to:t.date_to,usermid:t.telecaller_id};console.log("ðŸ“¤ useTelecallerPerformance: Calling API with params:",_);const c=Date.now(),g=await Ve(_),k=Date.now();console.log("âœ… useTelecallerPerformance: API call completed in",k-c,"ms"),console.log("ðŸ“„ API Response structure:",{hasData:!!(g!=null&&g.data),dataLength:((l=g==null?void 0:g.data)==null?void 0:l.length)||0,hasTelecallers:!!g.telecallers,telecallersLength:((p=g.telecallers)==null?void 0:p.length)||0});const S=g==null?void 0:g.data.map(x=>({sr_no:x.sr,telecaller:x.user,date:x.date,first_call:x.start_time,last_call:x.end_time,dialed:x.dialed,answered:x.answered,interested:x.interested,confirmed:x.confirmed,talk_time:x.talktime}));console.log("ðŸ“Š useTelecallerPerformance: Transformed",S.length,"records"),console.log("ðŸ“‹ Sample transformed data:",S.slice(0,2)),n(S);const D=(g.telecallers&&g.telecallers.length>0?g.telecallers:g.telecallersselect||[]).map(x=>({usermid:x.usermid,username:x.username}));console.log("ðŸ‘¥ useTelecallerPerformance: Transformed",D.length,"telecallers"),console.log("ðŸ‘¤ Sample telecallers:",D.slice(0,2)),o(D);const T=y(S);console.log("ðŸ“ˆ useTelecallerPerformance: Calculated metrics:",T),v(T);const R={current_page:g.current_page||1,per_page:g.per_page||10,total_pages:g.last_page||1,total_rows:g.total||0,from:g.from||0,to:g.to||0};console.log("ðŸ”¢ useTelecallerPerformance: Pagination data:",R),i(R)}catch(_){console.error("âŒ useTelecallerPerformance: Error fetching data:",_),b(_ instanceof Error?_:new Error("Failed to fetch performance data"))}finally{console.log("ðŸ useTelecallerPerformance: Fetch completed, setting loading to false"),h(!1)}},[t,y]);return d.useEffect(()=>{console.log("ðŸŽ¯ useTelecallerPerformance: useEffect triggered with filters:",t);let l=!0;return(async()=>{l&&await r()})(),()=>{l=!1,console.log("ðŸ§¹ useTelecallerPerformance: Component unmounted, cancelling operations")}},[t.page,t.per_page,t.search,t.date_from,t.date_to,t.telecaller_id,r]),console.log("ðŸ”„ useTelecallerPerformance: Returning state:",{dataLength:a.length,telecallersLength:s.length,isLoading:f,error:j==null?void 0:j.message,pagination:u}),{performanceData:a,telecallers:s,pagination:u,performanceMetrics:m,isLoading:f,error:j,refetch:r}},{RangePicker:Ke}=Te,{Option:J}=ee,{Search:qe}=Re,Xe=({filters:t,telecallers:a,onFiltersChange:n,onReset:s,onRefresh:o,isLoading:u})=>{var _;const{dropdowns:i}=Se(),m=i.users||[],[v,f]=d.useState(!1);d.useEffect(()=>{if(!t.date_from&&!t.date_to){const c=N().format("YYYY-MM-DD");n({date_from:c,date_to:c})}},[t.date_from,t.date_to,n]);const h=(c,g)=>{c&&(n({date_from:g[0],date_to:g[1]}),f(!1))},j=c=>{const g=N(),k=N().subtract(c,"day");n({date_from:k.format("YYYY-MM-DD"),date_to:g.format("YYYY-MM-DD")})},b=()=>{const c=N().format("YYYY-MM-DD");n({date_from:c,date_to:c})},y=()=>!t.date_from||!t.date_to?"Select Date Range":t.date_from===t.date_to?N(t.date_from).format("MMM DD, YYYY"):`${N(t.date_from).format("MMM DD, YYYY")} - ${N(t.date_to).format("MMM DD, YYYY")}`,r=()=>{const c=N().format("YYYY-MM-DD");return t.date_from===c&&t.date_to===c},l=!r()||t.usermid!==void 0&&t.usermid!==null||t.telecaller_id!==void 0&&t.telecaller_id!==null||t.search&&t.search.trim()!=="",p=e.jsxs("div",{style:{width:260,padding:8},children:[e.jsx(Ke,{size:"small",style:{width:"100%",fontSize:"12px"},onChange:h,value:t.date_from&&t.date_to?[t.date_from?N(t.date_from):null,t.date_to?N(t.date_to):null]:null,format:"DD-MM-YYYY",popupStyle:{fontSize:"12px"},suffixIcon:e.jsx(L,{style:{fontSize:"12px"}})}),e.jsx("div",{style:{marginTop:12},children:e.jsxs(O,{wrap:!0,size:[4,4],children:[e.jsx(C,{size:"small",onClick:()=>j(0),children:"Today"}),e.jsx(C,{size:"small",onClick:()=>j(7),children:"7 Days"}),e.jsx(C,{size:"small",onClick:()=>j(30),children:"30 Days"}),e.jsx(C,{size:"small",type:"primary",onClick:()=>f(!1),children:"Apply"})]})})]});return e.jsxs(De,{title:e.jsxs(O,{children:[e.jsx(q,{}),e.jsx("h1",{className:"fw-bold text-gray-800",children:"Performance Report Filters"}),l&&e.jsx(C,{type:"link",size:"small",onClick:s,icon:e.jsx(F,{}),children:"Clear Filters"})]}),extra:e.jsxs(O,{children:[e.jsx(C,{icon:e.jsx(F,{}),onClick:s,disabled:u,children:"Reset"}),e.jsx(C,{type:"primary",icon:e.jsx(q,{}),onClick:o,loading:u,children:"Refresh"})]}),style:{marginBottom:16},children:[e.jsxs(ke,{gutter:[16,16],children:[e.jsxs(W,{xs:24,md:8,children:[e.jsx("div",{style:{marginBottom:8},children:e.jsx("strong",{children:"Date Range"})}),e.jsxs(O.Compact,{style:{width:"100%"},children:[e.jsx(re,{content:p,title:"Select Date Range",trigger:"click",open:v,onOpenChange:f,placement:"bottomLeft",children:e.jsx(C,{icon:e.jsx(L,{}),style:{width:"100%",textAlign:"left"},children:y()})}),!r()&&e.jsx(C,{icon:e.jsx(F,{}),onClick:b,title:"Reset to today"})]})]}),e.jsxs(W,{xs:24,md:8,children:[e.jsx("div",{style:{marginBottom:8},children:e.jsx("strong",{children:"User"})}),e.jsxs(ee,{value:t.usermid||t.telecaller_id||void 0,onChange:c=>n({usermid:c?Number(c):void 0,telecaller_id:c?Number(c):void 0}),placeholder:"All Users",style:{width:"100%"},suffixIcon:e.jsx(X,{}),loading:u,allowClear:!0,children:[e.jsx(J,{value:"",children:"All Users"}),m.map(c=>e.jsx(J,{value:c.usermid,children:c.username},c.usermid))]})]}),e.jsxs(W,{xs:24,md:8,children:[e.jsx("div",{style:{marginBottom:8},children:e.jsx("strong",{children:"Search"})}),e.jsx(qe,{placeholder:"Search telecallers...",value:t.search||"",onChange:c=>n({search:c.target.value}),onSearch:c=>n({search:c}),allowClear:!0,enterButton:e.jsx(Z,{}),loading:u})]})]}),l&&e.jsx("div",{style:{marginTop:16,padding:8,backgroundColor:"#f0f9ff",borderRadius:4},children:e.jsxs(O,{wrap:!0,children:[e.jsx("span",{style:{fontWeight:500},children:"Active Filters:"}),!r()&&e.jsxs(C,{size:"small",type:"text",children:[e.jsx(L,{})," Date: ",y()]}),(t.usermid||t.telecaller_id)&&e.jsxs(C,{size:"small",type:"text",children:[e.jsx(X,{})," User: ",(_=m.find(c=>c.usermid===(t.usermid||t.telecaller_id)))==null?void 0:_.username]}),t.search&&t.search.trim()!==""&&e.jsxs(C,{size:"small",type:"text",children:[e.jsx(Z,{}),' Search: "',t.search,'"']})]})})]})},Ze=({performanceData:t,isLoading:a,currentPage:n,perPage:s,searchTerm:o,onSearchChange:u})=>{const[i,m]=d.useState(!1);d.useEffect(()=>{if(a)m(!0);else{const r=setTimeout(()=>m(!1),1e3);return()=>clearTimeout(r)}},[a]);const v=Array.from({length:s}).map((r,l)=>({sr_no:l,telecaller:"",date:"",first_call:"",last_call:"",dialed:0,answered:0,interested:0,confirmed:0,talk_time:""})),f=(n-1)*s+1,h=r=>r.toLocaleString(),j=(r,l)=>{if(l===0)return"secondary";const p=r/l*100;return p>=50?"success":p>=25?"warning":"danger"},b=(i?v:t).filter(r=>r.telecaller.toLowerCase().includes(o.toLowerCase())),y=()=>e.jsx("div",{className:"placeholder-wave w-100",children:e.jsx("span",{style:{height:"20px",display:"block",borderRadius:"4px"},className:"placeholder col-12"})});return e.jsxs(U,{children:[e.jsxs(U.Header,{className:"d-flex justify-content-between align-items-center",children:[e.jsx("span",{className:"text-info",children:"Performance Data"}),e.jsx("div",{className:"w-25",children:e.jsxs(Q,{size:"sm",children:[e.jsx(te.Control,{type:"text",placeholder:"Search telecaller...",value:o,onChange:r=>u(r.target.value)}),e.jsx(Q.Text,{children:e.jsx("i",{className:"bi bi-search"})})]})})]}),e.jsxs(U.Body,{className:"p-0",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs($e,{striped:!0,hover:!0,className:"mb-0 align-middle table-bordered",children:[e.jsx("thead",{className:"bg-light",children:e.jsxs("tr",{children:[e.jsx("th",{className:"ps-4",children:"Sr.No"}),e.jsx("th",{children:"Telecaller"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"First Call"}),e.jsx("th",{children:"Last Call"}),e.jsx("th",{className:"text-center",children:"Dialed"}),e.jsx("th",{className:"text-center",children:"Answered"}),e.jsx("th",{className:"text-center",children:"Interested"}),e.jsx("th",{className:"text-center",children:"Confirmed"}),e.jsx("th",{className:"text-center",children:"Talk Time"}),e.jsx("th",{className:"text-center",children:"Answer Rate"})]})}),e.jsx("tbody",{children:b.map((r,l)=>{if(i)return e.jsx("tr",{children:Array.from({length:11}).map((_,c)=>e.jsx("td",{children:e.jsx(y,{})},c))},l);const p=r.dialed>0?r.answered/r.dialed*100:0;return e.jsxs("tr",{children:[e.jsx("td",{className:"ps-4 fw-semibold",children:f+l}),e.jsx("td",{children:r.telecaller||e.jsx(y,{})}),e.jsx("td",{children:r.date||e.jsx(y,{})}),e.jsx("td",{children:e.jsx("span",{className:`badge badge-light-${r.first_call==="-"?"danger":"success"} fs-8`,children:r.first_call||e.jsx(y,{})})}),e.jsx("td",{children:e.jsx("span",{className:`badge badge-light-${r.last_call==="-"?"danger":"success"} fs-8`,children:r.last_call||e.jsx(y,{})})}),e.jsx("td",{className:"text-center",children:h(r.dialed)}),e.jsx("td",{className:"text-center",children:e.jsx(Me,{bg:j(r.answered,r.dialed),className:"fs-8",children:h(r.answered)})}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:"fw-bold text-warning",children:h(r.interested)})}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:"fw-bold text-success",children:h(r.confirmed)})}),e.jsx("td",{className:"text-center",children:e.jsx("span",{className:`badge badge-light-${r.talk_time==="0:00"?"danger":"info"} fs-8`,children:r.talk_time})}),e.jsx("td",{className:"text-center",children:e.jsxs("span",{className:`fw-bold ${p>=50?"text-success":p>=25?"text-warning":"text-danger"}`,children:[p.toFixed(1),"%"]})})]},r.sr_no)})})]})}),b.length===0&&!i&&e.jsxs("div",{className:"text-center py-10",children:[e.jsx("i",{className:"bi bi-table fs-2x text-gray-400 mb-3"}),e.jsx("h5",{className:"text-gray-600",children:o?"No matching telecallers found":"No performance data available"})]})]})]})},Qe=({currentPage:t,totalPages:a,totalRecords:n,perPage:s,onPageChange:o,onPerPageChange:u})=>{const i=()=>{const m=[];let f=Math.max(1,t-Math.floor(2.5)),h=Math.min(a,f+5-1);h-f+1<5&&(f=Math.max(1,h-5+1));for(let j=f;j<=h;j++)m.push(j);return m};return e.jsxs(ae,{className:"align-items-center mt-4",children:[e.jsx(H,{md:6,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("span",{className:"text-muted me-2",children:"Show"}),e.jsxs(te.Select,{value:s,onChange:m=>u(Number(m.target.value)),style:{width:"auto"},size:"sm",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]}),e.jsx("span",{className:"text-muted ms-2",children:"entries"})]})}),e.jsx(H,{md:6,children:e.jsx("div",{className:"d-flex justify-content-end",children:e.jsxs($,{className:"mb-0",children:[e.jsx($.First,{onClick:()=>o(1),disabled:t===1}),e.jsx($.Prev,{onClick:()=>o(t-1),disabled:t===1}),i().map(m=>e.jsx($.Item,{active:m===t,onClick:()=>o(m),children:m},m)),e.jsx($.Next,{onClick:()=>o(t+1),disabled:t===a}),e.jsx($.Last,{onClick:()=>o(a),disabled:t===a})]})})})]})},et=()=>{const[t,a]=d.useState({page:1,per_page:10,search:"",date_from:void 0,date_to:void 0,telecaller_id:void 0}),[n,s]=d.useState(""),{performanceData:o,telecallers:u,pagination:i,performanceMetrics:m,isLoading:v,error:f,refetch:h}=Ge(t);d.useMemo(()=>({from:i.from||1,to:i.to||0,total:i.total_rows}),[i.from,i.to,i.total_rows]);const j=d.useCallback(p=>{a(_=>({..._,...p,page:1}))},[]),b=d.useCallback(()=>{a({page:1,per_page:10,search:"",date_from:void 0,date_to:void 0,telecaller_id:void 0})},[]),y=d.useCallback(p=>{a(_=>({..._,page:p}))},[]),r=d.useCallback(p=>{a(_=>({..._,per_page:p,page:1}))},[]),l=d.useCallback(()=>{h()},[h]);return Oe.useEffect(()=>{if(!v){const p=setInterval(()=>{h()},3e4);return()=>clearInterval(p)}},[v,h]),e.jsx(Ye,{fluid:!0,children:e.jsx(ae,{children:e.jsxs(H,{children:[e.jsx(Xe,{filters:t,telecallers:u,onFiltersChange:j,onReset:b,onRefresh:l,totalTelecallers:i.total_rows,isLoading:v}),e.jsx(Ze,{performanceData:o,isLoading:v,currentPage:i.current_page,perPage:i.per_page,searchTerm:n,onSearchChange:s}),o.length>0&&e.jsx(Qe,{currentPage:i.current_page,totalPages:i.total_pages,totalRecords:i.total_rows,perPage:i.per_page,onPageChange:y,onPerPageChange:r})]})})})};export{et as TelecallerPerformancePage};
